% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/semimetric.R
\name{semimetric_pca}
\alias{semimetric_pca}
\title{PCA-based Semimetric}
\description{
Implementation of the semimetric interface based on functional Principal Component
Analysis (fPCA). Computes Euclidean distance in the space of principal component scores:

\deqn{d_{PCA}(f,g) = \sqrt{\sum_{k=1}^q (\xi_{fk} - \xi_{gk})^2}}

where \eqn{\xi_{ik}} are the scores on the k-th principal component. The class
performs eigendecomposition of the functional covariance operator and projects
data onto the leading eigenfunctions (Karhunen-Loève expansion).
}
\details{
**Mathematical Background:**

The method performs eigendecomposition of the empirical covariance:
\deqn{C = \frac{1}{n} X^T X}

Selecting the q largest eigenvalues λ₁ ≥ λ₂ ≥ ... ≥ λ_q and corresponding
eigenvectors φ₁, φ₂, ..., φ_q.

**Variance Explained:**
\deqn{R²(q) = \frac{\sum_{j=1}^q \lambda_j}{\sum_{j=1}^p \lambda_j}}

**Computational Efficiency:**
- Time complexity: O(p³) for eigendecomposition, O(n²q) for distances
- Space complexity: O(pq)
- Eigenvectors can be cached and reused
}
\examples{
\dontrun{
# Create PCA semimetric
sm <- semimetric_pca$new(q = 10)

# Generate functional data
X1 <- matrix(rnorm(50*30), 50, 30)

# Calculate distances
distances <- sm$calculate(X1, X1)
dim(distances)  # 50 × 50
}

}
\references{
Ramsay, J.O. and Silverman, B.W. (2005). Functional Data Analysis. Springer.
}
\seealso{
[semimetric], [semimetric_pca_wrapper()], [SemimetricPCAEV()], [SemimetricPCA()]
}
\section{Super class}{
\code{\link[nfda:semimetric]{nfda::semimetric}} -> \code{semimetric_pca}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{q}}{Integer number of principal components to retain}

\item{\code{eigen_vec}}{Matrix (p × q) of eigenvectors, or NULL to compute from data}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-semimetric_pca-new}{\code{semimetric_pca$new()}}
\item \href{#method-semimetric_pca-print}{\code{semimetric_pca$print()}}
\item \href{#method-semimetric_pca-calculate}{\code{semimetric_pca$calculate()}}
\item \href{#method-semimetric_pca-clone}{\code{semimetric_pca$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-semimetric_pca-new"></a>}}
\if{latex}{\out{\hypertarget{method-semimetric_pca-new}{}}}
\subsection{Method \code{new()}}{
Initialize PCA semimetric
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{semimetric_pca$new(q = 2, eigen_vec = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{q}}{Number of principal components (default 2)}

\item{\code{eigen_vec}}{Pre-computed eigenvector matrix or NULL}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-semimetric_pca-print"></a>}}
\if{latex}{\out{\hypertarget{method-semimetric_pca-print}{}}}
\subsection{Method \code{print()}}{
Print PCA semimetric information
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{semimetric_pca$print()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-semimetric_pca-calculate"></a>}}
\if{latex}{\out{\hypertarget{method-semimetric_pca-calculate}{}}}
\subsection{Method \code{calculate()}}{
Calculate PCA-based distance matrix
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{semimetric_pca$calculate(x1, x2)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{x1}}{Matrix of functional data (n × p)}

\item{\code{x2}}{Matrix of functional data (m × p)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Distance matrix (n × m)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-semimetric_pca-clone"></a>}}
\if{latex}{\out{\hypertarget{method-semimetric_pca-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{semimetric_pca$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
